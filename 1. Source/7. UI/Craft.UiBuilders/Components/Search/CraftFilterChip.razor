@using Craft.UiBuilders.Generic
@using Craft.UiBuilders.Models
@using MudBlazor

@namespace Craft.UiBuilders.Components

<MudChip T="string" 
         Color="Color.Primary" 
         Variant="Variant.Outlined" 
         Size="Size.Small"
         OnClose="@HandleRemove"
         Class="ma-1">
    <Show When="@(Filter.LogicalOperator.HasValue)">
        <MudText Typo="Typo.caption" Class="me-2" Style="font-weight: 600;">
            @(Filter.LogicalOperator == LogicalOperatorType.And ? "AND" : "OR")
        </MudText>
    </Show>
    @Filter.GetDescription()
</MudChip>

@code {
    /// <summary>
    /// The filter to display.
    /// </summary>
    [Parameter, EditorRequired]
    public FilterModel Filter { get; set; } = null!;

    /// <summary>
    /// Callback invoked when the chip is removed.
    /// </summary>
    [Parameter]
    public EventCallback OnRemove { get; set; }

    private async Task HandleRemove()
    {
        await OnRemove.InvokeAsync();
    }
}
